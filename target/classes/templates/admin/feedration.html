<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaef.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Резервы</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">

    <!--    <link rel="stylesheet" type="text/css" href="css/style.css">-->
    <link rel="stylesheet" href="css/location.css">
    <link rel="stylesheet"  type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body>

<div class="sidebar" th:insert="blocks/navication :: nav" ></div>

<div  class="content container mt-5">
    <h1>Расчет рациона</h1>

    <table class="table table-striped mt-3">
        <thead>
        <tr>
            <th>Корм</th>
            <th>Килограммы корма</th>
            <th>Структура по ОЭ, %</th>
            <th>Корм. ед.</th>
            <th>Обмен.энерг., МДж</th>
            <th>Сухое в-во, г.</th>
            <th>Сырой протеин,г</th>
            <th>Перев.протеин, г</th>
            <th>сыр. жир, г</th>
            <th>сыр.клетчатка,г</th>
            <th>крахмал,г</th>
            <th>Сахар,г</th>
            <th>кальций,г</th>
            <th>Фосфор,г</th>
            <th>Магний,г</th>
            <th>Калий,г</th>
            <th>Сера,г</th>
            <th>Железо, мг</th>
            <th>Медь, мг</th>
            <th>Цинк, мг</th>
            <th>Марганец, мг</th>
            <th>Кобальт, мг</th>
            <th>Йод, мг</th>
            <th>Каротин, мг</th>
            <th>Вит. Д, МЕ</th>
            <th>Вит. Е, мг</th>
            <th>ЛФУ</th>
            <th>мин</th>
            <th>макс</th>
        </tr>
        </thead>
        <tbody id="feed-table-body">
        <tr>
            <td >  <select   class="form-select" style="width: 900px" onchange="addRow(this)" >
                <option value=""> Выберите </option>
                <option th:each="feed:${feeds}"
                        th:value="${feed}"
                        th:utext="${feed.name}"
                        data-feed='{"id":11,"name":"Feed 1"}'></select>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<script >

    function addRow(selectElement) {

        if (selectElement.value) {
            const feedJson = selectElement.selectedOptions[0].getAttribute('data-feed');
            const feedData = JSON.parse(feedJson);
            const tableBody = document.getElementById('feed-table-body');
            const newRow = document.createElement('tr');
            const feedName = selectElement.value;
            // Пример данных для заполнения строки
            const rowData = [
                feedName, '10', '15%', feedData.id, '2.5', '300', '50', '45', '10', '5', '25', '10', '1', '0.5', '0.3', '2', '0.4',
                '30', '0.5', '20', '0.3', '0.1', '0.05', '0.02', '500', '10', '5', '1', '3'
            ];

            rowData.forEach(data => {
                const newCell = document.createElement('td');
                newCell.textContent = data;
                newRow.appendChild(newCell);
            });

            // Добавляем новую строку перед текущей строкой с select-элементом
            tableBody.insertBefore(newRow, selectElement.parentElement.parentElement);

            // Очищаем текущий select-элемент для новой выборки
            selectElement.value = '';
        }
    }
</script>
</body>
</html>




